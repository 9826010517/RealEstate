<div class="wrapper">
  <p-toast ></p-toast>
  <!-- [modal]="true"  -->

  
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-12">
              <h4 class="m-0 text-dark">User Listing</h4>
            </div><!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->
  
      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <!-- Small boxes (Stat box) -->
          <div class="row">
            <div class="col-lg-12 col-12">
              <!-- small box -->
              <div class="small-box bg-search-color ">
                  <!-- <mat-form-field>
                  <mat-label>Filter</mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
                </mat-form-field> -->
                <mat-form-field>
                  <mat-label>Search</mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="" #input>
                </mat-form-field>
                
              </div>
              <div class="small-box bg-info table_body">
                <!-- <mat-form-field>
                  <mat-label>Filter</mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
                </mat-form-field> -->

                <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 table_body1">

                  <!-- Position Column -->
             
                  <ng-container matColumnDef="Regid">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Regid. </th>
                    <td mat-cell *matCellDef="let element"> {{element.Regid}} </td>
                  </ng-container>
                  <!-- Name Column -->
                  <ng-container matColumnDef="username">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.username}} </td>
                  </ng-container>
                  <!-- Weight Column -->
                  <ng-container matColumnDef="contactinfo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Contact </th>
                    <td mat-cell *matCellDef="let element"> {{element.contactinfo}} </td>
                  </ng-container>
                  <!-- Symbol Column -->
                  <ng-container matColumnDef="emailid">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
                    <td mat-cell *matCellDef="let element"> {{element.emailid}} </td>
                  </ng-container>
                     <!-- Symbol Column -->
                     <ng-container matColumnDef="address">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Address </th>
                      <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                    </ng-container>
                       <!-- Symbol Column -->
                  <ng-container matColumnDef="country">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Country </th>
                    <td mat-cell *matCellDef="let element"> {{element.country}} </td>
                  </ng-container>
                     <!-- Symbol Column -->
                     <ng-container matColumnDef="dob">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> dob </th>
                      <td mat-cell *matCellDef="let element"> {{element.dob}} </td>
                    </ng-container>
                       <!-- Symbol Column -->
                  <ng-container matColumnDef="gender">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
                    <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
                  </ng-container>
                  <ng-container matColumnDef="fordeletekey">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Trush </th>
                    <td mat-cell *matCellDef="let element; let i = index" class="text-cente">
                     <a  (click)="Deletedata(dialogmodal,element.Regid,i + (paginator.pageIndex * paginator.pageSize))"><i class="material-icons delete-icon">delete</i></a> 
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="foreditkey">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Edit </th>
                    <td mat-cell *matCellDef="let element;  let i = index" class="text-cente">
                     <a  (click)="Editdata(element.Regid,i + (paginator.pageIndex * paginator.pageSize),template)">
                      <span class="material-icons edit-icon">create</span>
                      </a>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- <div class="inner">
                  <h3>150</h3>
  
                  <p>New Orders</p>
                </div>
                <div class="icon">
                  <i class="ion ion-bag"></i>
                </div>
                <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a> -->
              </div>
              <div class="small-box bg-info">
                <mat-paginator [pageSizeOptions]="[5, 10, 20]"  showFirstLastButtons></mat-paginator>
              </div>
            </div>
            
            <!-- ./col -->
          </div>
          <!-- /.row -->
          
        </div><!-- /.container-fluid -->
      </section>
      <!-- /.content -->
    </div>
  
  
    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>



  <!-- open edit form  -->

  <ng-template #template>
    <div class="modal-header">
      <!-- <h4 class="modal-title pull-left">Edit Detail</h4> -->
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="example-container " >
        <form class="row" [formGroup]="editForm" (ngSubmit)="onEdit()">
        <mat-form-field appearance="fill" class="col-12">
          <mat-label>Regid</mat-label>
          <input matInput  formControlName="regid" >
          <mat-error *ngIf="submitted && editnewuser.regid.errors">
            <mat-error  *ngIf="editnewuser.regid.errors.required" class="">
                Regid is required
            </mat-error>
          </mat-error>
        </mat-form-field>
         <!-- <div class="col-12" *ngIf="submitted && editnewuser.regid.errors">
           <h6>Hello</h6>
         </div> -->

        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" >
          <mat-error *ngIf="submitted && editnewuser.name.errors">
            <mat-error  *ngIf="editnewuser.name.errors.required" class="">
                Name is required
            </mat-error>
          </mat-error>
        </mat-form-field>
      
        
        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Contact</mat-label>
          <input matInput formControlName="contact" >
          <mat-error *ngIf="submitted && editnewuser.contact.errors">
            <mat-error  *ngIf="editnewuser.contact.errors.required" class="">
              Contact is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        
        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" >
          <mat-error *ngIf="submitted && editnewuser.email.errors">
            <mat-error  *ngIf="editnewuser.email.errors.required" class="">
                Email is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        
        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Address</mat-label>
          <input matInput formControlName="address" >
          <mat-error *ngIf="submitted && editnewuser.address.errors">
            <mat-error  *ngIf="editnewuser.address.errors.required" class="">
              Address is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Country</mat-label>
          <input matInput formControlName="country" >
          <mat-error *ngIf="submitted && editnewuser.country.errors">
            <mat-error  *ngIf="editnewuser.country.errors.required" class="">
              Country is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>dob</mat-label>
          <input matInput formControlName="dob" >
          <mat-error *ngIf="submitted && editnewuser.dob.errors">
            <mat-error  *ngIf="editnewuser.dob.errors.required" class="">
              Country is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="col-12 mt-2">
          <mat-label>Gender</mat-label>
          <input matInput formControlName="gender" >
          <mat-error *ngIf="submitted && editnewuser.gender.errors">
            <mat-error  *ngIf="editnewuser.gender.errors.required" class="">
              Country is required
            </mat-error>
          </mat-error>
        </mat-form-field>

        <div class=" text-cente mt-3 col-12">
          <!-- <div class="col-4"></div> -->
          <button type="submit" class="btn btn-primary btn-block update_btn col-4 mx-auto">Update</button>
          <!-- <div class="col-4"></div> -->
        </div>
      </form>
      </div>
    </div>
  </ng-template>


  <!-- confiramation dialogue box -->
  <ng-template #dialogmodal>
    <div class="modal-header">
      <!-- <h4 class="modal-title pull-left">Edit Detail</h4> -->
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="example-container text-center" >
        <h2 class="dialogtext1">Are you sure?</h2>
        <h4 class="dialogtext2">Confirm to proceed</h4>
        <div class="">
          <button type="button" class="btn btn-success dialogtextbtn1 m-2" (click)="onConfirm()" [disabled]="is_confirm">Yes</button>
          <button type="button" class="btn btn-danger dialogtextbtn1 m-2" (click)="onReject()" [disabled]="is_confirm">No</button>
        </div>
      </div>
    </div>
  </ng-template>
  <!-- <p-toast></p-toast> -->